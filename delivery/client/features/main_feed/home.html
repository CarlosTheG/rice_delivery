
<template name="home">
	<div id="d-home" class="template-wrap">

		{{#if currentUser}}
			{{> dashboard}}

	<!-- 		{{#if currentUser.profile.venmo}}
			{{else}} -->
			{{> home_venmo}}
			<!-- {{/if}} -->

			<!-- show this after successful logins -->
			<!-- Feed and HomePage info goes here -->
			<p> Home Feed </p>
			{{> home_feed}}

			<!-- Hoot / Chaus -->
			<!-- Filters -->
			<!-- Feed of Orders -->
			<!-- Order button -->
			<a class="d-button" href="{{pathFor route='order'}}"> New Order </a>

			

		{{else}}
			{{> home_register}}
			{{> home_login}}
		{{/if}}

	</div>
	
</template>

<template name="home_venmo">
	<!-- show this if no venmo detected -->
	<p>Our app requires a venmo account!</p>
	<a href="/venmo/3428/make_payments+access_email+access_balance" class="connect"> Connect to Venmo. </a>

</template>

<template name="home_feed">
	<!-- feed of orders -->
	<ul style="list-style-type: none;">
		{{#each order}}
			{{> individual_order}} <br>
		{{/each}}
	</ul>
</template>

<template name="individual_order">
	<button type="button" class="btn btn-primary">
		<li style="list-style-type: none;">
			Price: ${{price}} <br>
			Location: {{location}} <br>
			Requested {{createdAt}} <br>
			<span class="order-item">
				<br>Details: {{details}}<br>
				Order: {{items_ordered}}<br>
				<button class="accept">Deliver Order</button>
			</span>

		</li>
	</button>

	<script>
		$(document).ready(function(){
			var counter = 0;
			$("button").click(function(){
				if (counter % 2 === 0) {
					$("span", this).show();
					counter ++;
				} else {
					$("span", this).hide();
					counter ++;
				}
			});
		});
	</script>

</template>


<template name="home_register">
	
	<div id="welcome"><h2>Rice Delivery</h2></div>

	<div id="home-register" class="home-form">
		<form class="register_form">
			<label for="registerName"> Full Name: </label>
			<input type="text" name="registerName" class="input-fill">
			<label for="registerEmail"> Email: </label>
			<input type="email" name="registerEmail" class="input-fill">
			<label for="registerPassword"> Password: </label>
			<input type="password" name="registerPassword" class="input-fill">
			<input type="submit" value="register" class="input-submit">
		</form>
	</div>
</template>

<template name="home_login">

	<div id="home-login" class="home-form">
		<form class="login_form">
			<label for="loginEmail"> Email: </label>
			<input type="email" name="loginEmail" class="input-fill">
			<label for="loginPassword"> Password: </label>
			<input type="password" name="loginPassword" class="input-fill">
			<input type="submit" value="login" class="input-submit">
		</form>
	</div>
</template>

<template name="dashboard">
    <p>You're logged in.</p>
    <p><a href="#" class="logout">Logout</a></p>
</template>